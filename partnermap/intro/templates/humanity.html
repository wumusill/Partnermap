{% load static %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>partermap</title>
    <script src="https://kit.fontawesome.com/b718763aa5.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/partnermap.css' %}">
</head>
<body>
    <header>
        <a href="{% url 'home' %}" id="partnermaplogo"><i class="fa-solid fa-handshake-angle"></i>partnermap</a>
        <nav class="menu-bar">
        <a href="{% url 'home' %}"> <i class="fa-solid fa-map-location-dot"></i> 제휴업체찾기</a>
        <a href="{% url 'board' %}"> <i class="fa-solid fa-user-group"></i> 친구찾기</a>
        {% if user.is_authenticated %}
        <a href="{% url 'logout' %}">로그아웃</a>
        {% else %}
        <a href="{% url 'login' %}"><i class="fa-solid fa-right-to-bracket"></i>로그인</a>
        {% endif %}
        </nav>
    </header>

    <div id="wrapper">
        <div class="topbar" style="position: absolute; top:0;">
            <!-- 왼쪽 서브 메뉴 -->
            <div class="left_sub_menu">
                <div class="sub_menu">
                    <ul class="big_menu">
                        <li>단과대학별 제휴업체<i class="arrow fas fa-angle-right"></i></li>
                        <ul class="small_menu">
                            <li><a href="{% url 'humanity' %}">인문대학</a></li>
                            <li><a href="{% url 'society' %}">사회과학대학</a></li>
                            <li><a href="{% url 'science' %}">자연과학대학</a></li>
                            <li><a href="{% url 'business' %}">경영대학</a></li>
                            <li><a href="{% url 'engine' %}">공과대학</a></li>
                            <li><a href="{% url 'elec' %}">전자정보대학</a></li>
                            <li><a href="{% url 'farm' %}">농업생명환경대학</a></li>
                            <li><a href="{% url 'teacher' %}">사범대학</a></li>
                            <li><a href="{% url 'life' %}">생활과학대학</a></li>
                            <li><a href="{% url 'vet' %}">수의과대학</a></li>
                            <li><a href="{% url 'medicine' %}">약학대학</a></li>
                            <li><a href="{% url 'doctor' %}">의과대학</a></li>
                            <li><a href="{% url 'mixed' %}">융합학과군</a></li>

                        </ul>
                    </ul>
                    <ul class="big_menu">
                        <li><a href="{% url 'intro' %}">총학생회 제휴업체</a><i class="arrow fas fa-angle-right"></i></li>
                    </ul>
                </div>
            </div>
          
        </div>

        <div class="map">
            <div class="map-title">
                인문대학 제휴지도
            </div>
            <div class="map-box">
                <iframe src="https://www.google.com/maps/d/embed?mid=1bVUZtZnk4b7slJbAcQk3iJSKOBT8A3M&ehbc=2E312F" width="740" height="320"></iframe>
            </div>
        </div>
        <div class="partner">
            <div class="partner-title">
                인문대학 제휴업체
            </div>
            <div class="partner-box">
                <table class="board_wrap">
                    <thead class="board_list">
                        <tr align="center">
                            <th width="200">업체명</th>
                            <th width="500">제휴 내용</th>
                            <th width="450">주소</th>
                            <th width="100">좋아요 수</th>
                            <th width="100">좋아요</th>
                        </tr>
                    </thead>
                    
                    <tbody class="board_r">
                        {% for partner in partners %}
                        <tr>
                            <td>{{ partner.name }}</td>
                            <td>{{ partner.content }}</td>
                            <td>{{ partner.address }}</td>
                            <td>{{ partner.like_count }}</td>
                            {% if user.is_authenticated %}
                            <td>
                                <a href="{% url 'likes_humanity' partner.id %}">
                                {% if user in partner.like.all %}
                                좋아요 취소
                                {% else %}
                                좋아요
                                {% endif %}
                                </a>
                            </td>
                            {% endif %}
                        </tr>              
                        {% endfor %}
                          
                    </tbody>
                </table>

                <div class="page">
                    {% if partners.has_previous %}
                    <a href="?page=1" class="pp">첫 페이지</a>
                    <a href="?page={{partners.previous_page_number}}" class="pp">이전 페이지</a>
                    {% endif %}
                    
                    <a href="#" class="num">{{ partners.number }}/{{ partners.paginator.num_pages }}</a>
            
                    {% if partners.has_next %}
                    <a href="?page={{partners.next_page_number}}" class="pp">다음 페이지</a>
                    <a href="?page={{partners.paginator.num_pages}}" class="pp">마지막 페이지</a>
                    {% endif %}
                </div>

            </div>
        </div>



    <!-- 좋아요 순위 -->
    <div class="mainboard">
        <div class="title-box">
            <p class="main-title">인문대 좋아요 TOP 5</p>
        </div>

    <table class="board_wrap">
            <thead class="board_list">
                <tr align="center">
                    <th width="200">업체명</th>
                    <th width="500">제휴 내용</th>
                    <th width="150">좋아요 수</th>
                </tr>
            </thead>
            
            <tbody class="board_r">
                {% for like_partner in like_partners %}
                <tr>
                    <td>{{ like_partner.name }}</td>
                    <td>{{ like_partner.content }}</td>
                    <td>{{ like_partner.like_count }}</td>
                </tr>              
                {% endfor %}
                    
            </tbody>
    </table>
    

    </div>




</body>
</html>
